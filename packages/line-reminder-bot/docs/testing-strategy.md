# テスト戦略

## 概要

このドキュメントでは、LINE Reminder Botのテスト戦略とテスト方針について説明します。

| テストレベル   | 目的                     | 実行速度 | 信頼性 |
| -------------- | ------------------------ | -------- | ------ |
| ユニットテスト | ビジネスロジックの正しさ | 高速     | 中     |
| 統合テスト     | 実際のAPI連携の確認      | 低速     | 高     |

## テスト方針

- AAAパターンに従う
- given-when-thenスタイルでテストタイトルを記述

## ユニットテスト（Usecase層）

### 対象

ビジネスロジックのみをテストします。外部APIへの依存を排除することで、高速で安定したテストを実現します。

### 実行環境

- Cloudflare Workers環境（vitest-pool-workers）
- ローカルD1データベース

### テストファイルの配置

テストファイルは実装ファイルと同じディレクトリに配置（コロケーション方式）

## 統合テスト（Controller + Usecase + LINE API）

### 対象

エンドツーエンドのフローを実際のLINE Messaging APIを使ってテストします。

### 実行環境

- ローカル環境
- 実際のLINE Messaging API
- ローカルD1データベース

### テストファイルの配置

統合テストは`tests/integration`ディレクトリに配置
